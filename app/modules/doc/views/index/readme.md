## Ice framework
Simple and fast PHP framework delivered as C-extension.

### Stage
This is **dev** branch, we need to focus on the doc, tests, fixes and cleaning code, so we need your help.

[![Build Status](https://travis-ci.org/ice/framework.svg?branch=dev)](https://travis-ci.org/ice/framework)

##### How to contribute?
1. Fork the Ice framework repository.
2. Create a new branch for each feature or improvement.
3. Send a pull request from each feature branch to the **dev** branch*.

*please do not send files from `/ext` directory, just those from thes `/ice`.

### Installation
Ice is a C extension, so you need to download a binary for your platform or compile it from source code.

### Download
OpenSUSE package: [php5-ice](http://software.opensuse.org/package/php5-ice)

### Compilation
There are two ways to compile Ice framework*:
* compile from `/ext` folder and C-files - recommended for beginners and for production machines; C-files are generated by Ice Team from time to time (eg. for every release)
* build by [zephir](https://github.com/ice/zephir) (generate, compile and install extension) - recommended for developers and for testing next release; by this way you generate C-files from Zep-files, so you can get newest features/fixes but it could be unstable

*before compilation please read the [Requirements](#requirements).

#### Compile from `/ext`:
Install using composer:
```sh
composer require iceframework/framework:dev-dev
```

###### or clone and install manualy:
```sh
git clone https://github.com/ice/framework.git
cd framework/ext/
sudo ./install
```

##### Add extension to your php.ini:
```ini
extension=ice.so
```

Finally restart the webserver

#### Build by zephir* (generate, compile and install extension):
###### By default `../vendor/bin/zephir` runns zephir. You must run zephir begin in the `/framework` directory to build Ice:
```sh
cd framework/
../vendor/bin/zephir build
```

*if you don't have zephir you need to compile zephir.

##### Compile zephir
###### You can install zephir using [composer](https://getcomposer.org/). If you already have ice and you are inside `/framework` directory:
```sh
cd ../
composer require phalcon/zephir
```

###### or clone zephir repo:
```sh
git clone https://github.com/phalcon/zephir.git
```

###### Compile json-c:
```sh
cd vendor/phalcon/zephir/
phpenv rehash
git submodule --quiet update --init --recursive

cd json-c/
git checkout patch-1
sh autogen.sh 2&>1 /dev/null
./configure --silent
make --silent
sudo make --silent install
```

###### Run zephir first time to install zephir:
```sh
cd framework/
../vendor/bin/zephir
```

#### Requirements
You can build from C-files or build by zephir

##### To build the PHP extension:
* g++ >= 4.4/clang++ >= 3.x/vc++ 9
* gnu make 3.81 or later
* php development headers and tools

Ubuntu:
```sh
sudo apt-get install php5-dev libpcre3-dev gcc make
```

Suse:
```sh
sudo zypper install php5-devel pcre-devel gcc make
```

CentOS/Fedora/RHEL
```sh
sudo yum install php-devel pcre-devel gcc make
```

##### To compile zephir-parser:
* json-c (from Github)
* re2c

Ubuntu:
```sh
sudo apt-get install re2c libpcre3-dev
```

Suse:
```sh
sudo zypper install re2c pcre-devel
```

CentOS/Fedora/RHEL
```sh
sudo yum install re2c pcre-devel
```

### License
Ice is open-sourced software licensed under the New BSD License. See the LICENSE file for more information.

***
Copyright (c) 2014 Ice Team.